function correctAnswer(score) {
    let resultHTML = "";

    if (score < 7) {
        resultHTML += `
        <h2 class="result__person"><i class="bi bi-person-badge"></i><i class="bi bi-person-workspace"></i> ${userName.value}</h2>
        <h3 class="result__title">Thanks, for your interest in my quiz!</h3>
        <h4 class="result__result">Result :</h4>
        <div class="result__scorenumber">
            <h4 class="first">${score} / 10</h4>
        </div>
        <div class="result__scoretext">
            <p class="first">You're not my friend's</p>
        </div>
        <button class="result__again btn-again">Again!</button>`
    } else if (score < 10) {
        resultHTML += `
        <h2 class="result__person"><i class="bi bi-person-badge"></i><i class="bi bi-person-workspace"></i> ${userName.value}</h2>
        <h3 class="result__title">Thanks, for your interest in my quiz!</h3>
        <h4 class="result__result">Result :</h4>
        <div class="result__scorenumber">
            <h4 class="second">${score} / 10</h4>
        </div>
        <div class="result__scoretext">
            <p class="second">You're my friend's</p>
        </div>
        <button class="result__again btn-again">Again!</button>`
    } else {
        resultHTML += `
        <h2 class="result__person"><i class="bi bi-person-badge"></i><i class="bi bi-person-workspace"></i> ${userName.value}</h2>
        <h3 class="result__title">Thanks, for your interest in my quiz!</h3>
        <h4 class="result__result">Result :</h4>
        <div class="result__scorenumber">
            <h4 class="third">${score} / 10</h4>
        </div>
        <div class="result__scoretext">
            <p class="third">You're my Best Friend's Forever!</p>
        </div>
        <button class="result__again btn-again">Again!</button>`
    } 

    resultContainer.innerHTML = resultHTML;


    let btnAgain = document.querySelector(".btn-again");
    btnAgain.addEventListener("click", function() {
        window.location.reload();
    });
};
/* ##### JSON Static Object ##### */
let myQuestions = [
    {   
        number: "1",
        question: "Siapa nama lengkap asli hendrosetwn?",
        answer: {
            a: "Hendro Spiderman",
            b: "Hendro Sariawan",
            c: "Hendro Setiawan"
            },
            correctAnswer: "c"
        },
    {
        number: "2",
        question: "Di kota mana hendrosetwn dilahirkan?",
        answer: {
            a: "Brebes",
            b: "Tegal",
            c: "New York"
            },
            correctAnswer: "b"
        },
    {
        number: "3",
        question: "Tanggal berapa hendrosetwn ulang tahun?",
        answer: {
            a: "11 oktober",
            b: "10 oktober",
            c: "1 oktober",
            },
            correctAnswer: "c"
        },
    {
        number: "4",
        question: "Siapa nama pacar hendrosetwn?",
        answer: {
            a: "Umi Azizah",
            b: "Ully Amrina",
            c: "Upik Asikah"
            },
            correctAnswer: "b"
        },
    {
        number: "5",
        question: "Berapa 3 digit terakhir nomor telepon yang dimiliki hendrosetwn?",
        answer: {
            a: "313",
            b: "131",
            c: "331"
            },
            correctAnswer: "a"
        },
    {
        number: "6",
        question: "Berapa usia hendrosetwn jika ulang tahun di tahun 2022?",
        answer: {
            a: "29",
            b: "28",
            c: "27"
            },
            correctAnswer: "c"
        },
    {
        number: "7",
        question: "Apa riwayat pendidikan terakhir hendrosetwn?",
        answer: {
            a: "Sarjana",
            b: "SMA",
            c: "SMK"
            },
            correctAnswer: "c"
        },
    {
        number: "8",
        question: "Apa game favorit hendrosetwn yang sering dimainkan?",
        answer: {
            a: "Dinner Dash",
            b: "CS:GO",
            c: "DOTA2"
            },
            correctAnswer: "c"
        },
    {
        number: "9",
        question: "Apa game favorit hendrosetwn yang sering ditonton?",
        answer: {
            a: "Dinner Dash",
            b: "CS:GO",
            c: "DOTA2"
            },
            correctAnswer: "b"
        },
    {
        number: "10",
        question: "Bootcamp apakah yang hendro ikuti pada SALT Academy?",
        answer: {
            a: "Fullstack Developer",
            b: "Backend Developer",
            c: "Frontend Developer"
            },
            correctAnswer: "c"
        },
];
/* ##### Looping Scoring ##### */
function scoringAnswer() {
    let answered = []
    let openModal = document.querySelector(".modal")
    let closeModal = document.querySelector(".x-modal")

    for (i=1; i <= myQuestions.length; i++){  
        let userAnswered = document.querySelector(`input[name=q-${i}]:checked`);
        if (userAnswered){
            answered.push(userAnswered.value);
        }
    }
    
    if (answered.length < myQuestions.length) {
        openModal.style.display = "block";
    } else {
        quizContainer.style.display = "none";
        resultContainer.style.display = "flex";
    } 

    closeModal.addEventListener("click", () => {
        openModal.style.display = "none";
    })

    let score = 0;    
    answered.forEach((answers, index) =>{
        
        if(answers === myQuestions[index].correctAnswer){
            score +=1;
        }
    });

    correctAnswer(score);
}
function startQuiz() {
    let errorName = document.querySelector(".error-name")
    let letters =/^[a-z, A-Z, 0-9]*$/;


    if (userName.value.length == 0) {
        errorName.innerHTML = `<i class="bi bi-x-octagon-fill"></i> Error! name must not be empty.`;
    } else if (userName.value.length < 3 ) {
        errorName.innerHTML = `<i class="bi bi-x-octagon-fill"></i> Error! name must be longer than 2 characters.`;
    } else if  (userName.value.length > 16 ) {
        errorName.innerHTML = `<i class="bi bi-x-octagon-fill"></i> Error! name maximal 15 characters.`;
    } else if (!userName.value.match(letters)) {
        errorName.innerHTML = `<i class="bi bi-x-octagon-fill"></i> Error! name must be letters only.`;
    } else {
        landingContainer.style.display = "none";
        quizContainer.style.display = "flex";
    }
}

/* ##### Variables Pages Section ##### */
const landingContainer = document.querySelector("#landing");
const resultContainer = document.querySelector("#result");
const quizContainer = document.querySelector("#quiz");


/* ##### Button Start Function ##### */
let btnStart = document.querySelector(".btn-start");
btnStart.addEventListener("click", function(){
    startQuiz();
})


/* ##### Looping Quiz Section ##### */
let quizHTML = "";

myQuestions.forEach((question, index) => {
    if (index === 0){
        quizHTML += `
        <div class="question-page">
            <div class="progress">
                <div class="progress__skills" style="width: ${question.number}0%"></div>
            </div>
            <div class="question-page__number">
                <h3>${question.number}<i class="bi bi-caret-right-fill"></i></h3>
            </div>
            <div class="question-page__question">
                <h2 class="question-page__question--text">${question.question}</h2>
                <div class="question-page__question--multiple">
                    <input type="radio" name="q-${question.number}" value="a" id="a${question.number}">
                    <label for="a${question.number}">${question.answer.a} <i class="bi bi-check-lg"></i></label>
                    <input type="radio" name="q-${question.number}" value="b" id="b${question.number}">
                    <label for="b${question.number}">${question.answer.b} <i class="bi bi-check-lg"></i></label>
                    <input type="radio" name="q-${question.number}" value="c" id="c${question.number}">  
                    <label for="c${question.number}">${question.answer.c} <i class="bi bi-check-lg"></i></label>
                </div>
                <div class="question-page__question--button">
                    <button class="btn-next">Next</button>
                </div>
            </div>
        </div>`
    } else if (index <= 8 ){
        quizHTML += `
        <div class="question-page" style="display:none">
            <div class="progress">
                <div class="progress__skills" style="width: ${question.number}0%"></div>
            </div>
            <div class="question-page__number">
                <h3>${question.number}<i class="bi bi-caret-right-fill"></i></h3>
            </div>
            <div class="question-page__question">
                <h2 class="question-page__question--text">${question.question}</h2>
                <div class="question-page__question--multiple">
                    <input type="radio" name="q-${question.number}" value="a" id="a${question.number}">
                    <label for="a${question.number}">${question.answer.a} <i class="bi bi-check-lg"></i></label>
                    <input type="radio" name="q-${question.number}" value="b" id="b${question.number}">
                    <label for="b${question.number}">${question.answer.b} <i class="bi bi-check-lg"></i></label>
                    <input type="radio" name="q-${question.number}" value="c" id="c${question.number}">  
                    <label for="c${question.number}">${question.answer.c} <i class="bi bi-check-lg"></i></label>
                </div>
                <div class="question-page__question--button">
                    <button class="btn-prev">Prev</button>
                    <button class="btn-next">Next</button>
                </div>
            </div>
        </div>`
    } else {
        quizHTML += `
        <div class="question-page" style="display:none">
            <div class="progress">
                <div class="progress__skills" style="width: ${question.number}0%"></div>
            </div>
            <div class="question-page__number">
                <h3>${question.number}<i class="bi bi-caret-right-fill"></i></h3>
            </div>
            <div class="question-page__question">
                <h2 class="question-page__question--text">${question.question}</h2>
                <div class="question-page__question--multiple">
                    <input type="radio" name="q-${question.number}" value="a" id="a${question.number}">
                    <label for="a${question.number}">${question.answer.a} <i class="bi bi-check-lg"></i></label>
                    <input type="radio" name="q-${question.number}" value="b" id="b${question.number}">
                    <label for="b${question.number}">${question.answer.b} <i class="bi bi-check-lg"></i></label>
                    <input type="radio" name="q-${question.number}" value="c" id="c${question.number}">  
                    <label for="c${question.number}">${question.answer.c} <i class="bi bi-check-lg"></i></label>
                </div>
                <div class="question-page__question--button">
                    <button class="btn-prev">Prev</button>
                    <button class="btn-finish">Finish</button>
                </div>
            </div>

            <div class="modal">
                <div class="modal__content">
                    <h2 class="modal__content--title">ATTENTION !</h2>
                    <p class="modal__content--attention">"There is an answer that you have not checked/filled in the question. Close this attention and click PREV button for back to previous question."</p>
                    <i class="bi bi-x-square-fill modal__content--close x-modal"></i>
                </div>
            </div>
        </div>`
    }
});

quizContainer.innerHTML = quizHTML;


/* ##### Button Next Function ##### */
let btnNext = document.querySelectorAll(".btn-next");
btnNext.forEach((btn) => {
    btn.addEventListener("click", (e) => {
        let quizes = e.target.parentElement.parentElement.parentElement
        quizes.setAttribute("style", "display:none;")

        let quizesSibling = quizes.nextElementSibling
        quizesSibling.removeAttribute("style")
    })
})


/* ##### Button Previous Function ##### */
let btnPrev = document.querySelectorAll(".btn-prev");
btnPrev.forEach((btn) => {
    btn.addEventListener("click", (e) => {
        let quizes = e.target.parentElement.parentElement.parentElement
        quizes.setAttribute("style", "display:none;")

        let quizesSibling = quizes.previousElementSibling
        quizesSibling.removeAttribute("style")
    })
})

/* ##### Button Finish Function ##### */
let btnFinish = document.querySelector(".btn-finish");
btnFinish.addEventListener("click", function() {
    scoringAnswer();
});


/* ##### Result Section ##### */
let userName = document.querySelector(".user-name");
/* ##### Theme Dark or Light ##### */

const colorScheme = document.querySelector('meta[name="color-scheme"]');
const themeText = document.querySelector('.navheader__theme--text');
const themeToggler = document.getElementById('theme-toggle');

setTimeout(() => {
    let theme = getTheme();
    applyTheme(theme);
    themeText.innerText = theme;

    themeToggler.addEventListener("click", () => { 
        const newTheme = rotateTheme(theme);
        applyTheme(newTheme);
        themeText.innerText = newTheme;
        saveTheme(newTheme);
        
        theme = newTheme;
    }
)}, 100);

function getTheme() {
    return localStorage.getItem('theme') || 'dark';
}

function saveTheme(theme) {
    localStorage.setItem('theme', theme);
}

function applyTheme(theme) {
    document.body.className = theme;
    colorScheme.content = theme;
}

function rotateTheme(theme) {
    if (theme === 'dark') {
        return 'light'
    }   return 'dark';
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvcnJlY3RBbnN3ZXIuanMiLCJkYXRhLmpzIiwic2NvcmluZ0Fuc3dlci5qcyIsInN0YXJ0UXVpei5qcyIsIm1haW4uanMiLCJ0aGVtZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2hEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3RHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2pDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDMUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gY29ycmVjdEFuc3dlcihzY29yZSkge1xuICAgIGxldCByZXN1bHRIVE1MID0gXCJcIjtcblxuICAgIGlmIChzY29yZSA8IDcpIHtcbiAgICAgICAgcmVzdWx0SFRNTCArPSBgXG4gICAgICAgIDxoMiBjbGFzcz1cInJlc3VsdF9fcGVyc29uXCI+PGkgY2xhc3M9XCJiaSBiaS1wZXJzb24tYmFkZ2VcIj48L2k+PGkgY2xhc3M9XCJiaSBiaS1wZXJzb24td29ya3NwYWNlXCI+PC9pPiAke3VzZXJOYW1lLnZhbHVlfTwvaDI+XG4gICAgICAgIDxoMyBjbGFzcz1cInJlc3VsdF9fdGl0bGVcIj5UaGFua3MsIGZvciB5b3VyIGludGVyZXN0IGluIG15IHF1aXohPC9oMz5cbiAgICAgICAgPGg0IGNsYXNzPVwicmVzdWx0X19yZXN1bHRcIj5SZXN1bHQgOjwvaDQ+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJyZXN1bHRfX3Njb3JlbnVtYmVyXCI+XG4gICAgICAgICAgICA8aDQgY2xhc3M9XCJmaXJzdFwiPiR7c2NvcmV9IC8gMTA8L2g0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInJlc3VsdF9fc2NvcmV0ZXh0XCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cImZpcnN0XCI+WW91J3JlIG5vdCBteSBmcmllbmQnczwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJyZXN1bHRfX2FnYWluIGJ0bi1hZ2FpblwiPkFnYWluITwvYnV0dG9uPmBcbiAgICB9IGVsc2UgaWYgKHNjb3JlIDwgMTApIHtcbiAgICAgICAgcmVzdWx0SFRNTCArPSBgXG4gICAgICAgIDxoMiBjbGFzcz1cInJlc3VsdF9fcGVyc29uXCI+PGkgY2xhc3M9XCJiaSBiaS1wZXJzb24tYmFkZ2VcIj48L2k+PGkgY2xhc3M9XCJiaSBiaS1wZXJzb24td29ya3NwYWNlXCI+PC9pPiAke3VzZXJOYW1lLnZhbHVlfTwvaDI+XG4gICAgICAgIDxoMyBjbGFzcz1cInJlc3VsdF9fdGl0bGVcIj5UaGFua3MsIGZvciB5b3VyIGludGVyZXN0IGluIG15IHF1aXohPC9oMz5cbiAgICAgICAgPGg0IGNsYXNzPVwicmVzdWx0X19yZXN1bHRcIj5SZXN1bHQgOjwvaDQ+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJyZXN1bHRfX3Njb3JlbnVtYmVyXCI+XG4gICAgICAgICAgICA8aDQgY2xhc3M9XCJzZWNvbmRcIj4ke3Njb3JlfSAvIDEwPC9oND5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJyZXN1bHRfX3Njb3JldGV4dFwiPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJzZWNvbmRcIj5Zb3UncmUgbXkgZnJpZW5kJ3M8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwicmVzdWx0X19hZ2FpbiBidG4tYWdhaW5cIj5BZ2FpbiE8L2J1dHRvbj5gXG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0SFRNTCArPSBgXG4gICAgICAgIDxoMiBjbGFzcz1cInJlc3VsdF9fcGVyc29uXCI+PGkgY2xhc3M9XCJiaSBiaS1wZXJzb24tYmFkZ2VcIj48L2k+PGkgY2xhc3M9XCJiaSBiaS1wZXJzb24td29ya3NwYWNlXCI+PC9pPiAke3VzZXJOYW1lLnZhbHVlfTwvaDI+XG4gICAgICAgIDxoMyBjbGFzcz1cInJlc3VsdF9fdGl0bGVcIj5UaGFua3MsIGZvciB5b3VyIGludGVyZXN0IGluIG15IHF1aXohPC9oMz5cbiAgICAgICAgPGg0IGNsYXNzPVwicmVzdWx0X19yZXN1bHRcIj5SZXN1bHQgOjwvaDQ+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJyZXN1bHRfX3Njb3JlbnVtYmVyXCI+XG4gICAgICAgICAgICA8aDQgY2xhc3M9XCJ0aGlyZFwiPiR7c2NvcmV9IC8gMTA8L2g0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInJlc3VsdF9fc2NvcmV0ZXh0XCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRoaXJkXCI+WW91J3JlIG15IEJlc3QgRnJpZW5kJ3MgRm9yZXZlciE8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwicmVzdWx0X19hZ2FpbiBidG4tYWdhaW5cIj5BZ2FpbiE8L2J1dHRvbj5gXG4gICAgfSBcblxuICAgIHJlc3VsdENvbnRhaW5lci5pbm5lckhUTUwgPSByZXN1bHRIVE1MO1xuXG5cbiAgICBsZXQgYnRuQWdhaW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ0bi1hZ2FpblwiKTtcbiAgICBidG5BZ2Fpbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICB9KTtcbn07IiwiLyogIyMjIyMgSlNPTiBTdGF0aWMgT2JqZWN0ICMjIyMjICovXG5sZXQgbXlRdWVzdGlvbnMgPSBbXG4gICAgeyAgIFxuICAgICAgICBudW1iZXI6IFwiMVwiLFxuICAgICAgICBxdWVzdGlvbjogXCJTaWFwYSBuYW1hIGxlbmdrYXAgYXNsaSBoZW5kcm9zZXR3bj9cIixcbiAgICAgICAgYW5zd2VyOiB7XG4gICAgICAgICAgICBhOiBcIkhlbmRybyBTcGlkZXJtYW5cIixcbiAgICAgICAgICAgIGI6IFwiSGVuZHJvIFNhcmlhd2FuXCIsXG4gICAgICAgICAgICBjOiBcIkhlbmRybyBTZXRpYXdhblwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29ycmVjdEFuc3dlcjogXCJjXCJcbiAgICAgICAgfSxcbiAgICB7XG4gICAgICAgIG51bWJlcjogXCIyXCIsXG4gICAgICAgIHF1ZXN0aW9uOiBcIkRpIGtvdGEgbWFuYSBoZW5kcm9zZXR3biBkaWxhaGlya2FuP1wiLFxuICAgICAgICBhbnN3ZXI6IHtcbiAgICAgICAgICAgIGE6IFwiQnJlYmVzXCIsXG4gICAgICAgICAgICBiOiBcIlRlZ2FsXCIsXG4gICAgICAgICAgICBjOiBcIk5ldyBZb3JrXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb3JyZWN0QW5zd2VyOiBcImJcIlxuICAgICAgICB9LFxuICAgIHtcbiAgICAgICAgbnVtYmVyOiBcIjNcIixcbiAgICAgICAgcXVlc3Rpb246IFwiVGFuZ2dhbCBiZXJhcGEgaGVuZHJvc2V0d24gdWxhbmcgdGFodW4/XCIsXG4gICAgICAgIGFuc3dlcjoge1xuICAgICAgICAgICAgYTogXCIxMSBva3RvYmVyXCIsXG4gICAgICAgICAgICBiOiBcIjEwIG9rdG9iZXJcIixcbiAgICAgICAgICAgIGM6IFwiMSBva3RvYmVyXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29ycmVjdEFuc3dlcjogXCJjXCJcbiAgICAgICAgfSxcbiAgICB7XG4gICAgICAgIG51bWJlcjogXCI0XCIsXG4gICAgICAgIHF1ZXN0aW9uOiBcIlNpYXBhIG5hbWEgcGFjYXIgaGVuZHJvc2V0d24/XCIsXG4gICAgICAgIGFuc3dlcjoge1xuICAgICAgICAgICAgYTogXCJVbWkgQXppemFoXCIsXG4gICAgICAgICAgICBiOiBcIlVsbHkgQW1yaW5hXCIsXG4gICAgICAgICAgICBjOiBcIlVwaWsgQXNpa2FoXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb3JyZWN0QW5zd2VyOiBcImJcIlxuICAgICAgICB9LFxuICAgIHtcbiAgICAgICAgbnVtYmVyOiBcIjVcIixcbiAgICAgICAgcXVlc3Rpb246IFwiQmVyYXBhIDMgZGlnaXQgdGVyYWtoaXIgbm9tb3IgdGVsZXBvbiB5YW5nIGRpbWlsaWtpIGhlbmRyb3NldHduP1wiLFxuICAgICAgICBhbnN3ZXI6IHtcbiAgICAgICAgICAgIGE6IFwiMzEzXCIsXG4gICAgICAgICAgICBiOiBcIjEzMVwiLFxuICAgICAgICAgICAgYzogXCIzMzFcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvcnJlY3RBbnN3ZXI6IFwiYVwiXG4gICAgICAgIH0sXG4gICAge1xuICAgICAgICBudW1iZXI6IFwiNlwiLFxuICAgICAgICBxdWVzdGlvbjogXCJCZXJhcGEgdXNpYSBoZW5kcm9zZXR3biBqaWthIHVsYW5nIHRhaHVuIGRpIHRhaHVuIDIwMjI/XCIsXG4gICAgICAgIGFuc3dlcjoge1xuICAgICAgICAgICAgYTogXCIyOVwiLFxuICAgICAgICAgICAgYjogXCIyOFwiLFxuICAgICAgICAgICAgYzogXCIyN1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29ycmVjdEFuc3dlcjogXCJjXCJcbiAgICAgICAgfSxcbiAgICB7XG4gICAgICAgIG51bWJlcjogXCI3XCIsXG4gICAgICAgIHF1ZXN0aW9uOiBcIkFwYSByaXdheWF0IHBlbmRpZGlrYW4gdGVyYWtoaXIgaGVuZHJvc2V0d24/XCIsXG4gICAgICAgIGFuc3dlcjoge1xuICAgICAgICAgICAgYTogXCJTYXJqYW5hXCIsXG4gICAgICAgICAgICBiOiBcIlNNQVwiLFxuICAgICAgICAgICAgYzogXCJTTUtcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvcnJlY3RBbnN3ZXI6IFwiY1wiXG4gICAgICAgIH0sXG4gICAge1xuICAgICAgICBudW1iZXI6IFwiOFwiLFxuICAgICAgICBxdWVzdGlvbjogXCJBcGEgZ2FtZSBmYXZvcml0IGhlbmRyb3NldHduIHlhbmcgc2VyaW5nIGRpbWFpbmthbj9cIixcbiAgICAgICAgYW5zd2VyOiB7XG4gICAgICAgICAgICBhOiBcIkRpbm5lciBEYXNoXCIsXG4gICAgICAgICAgICBiOiBcIkNTOkdPXCIsXG4gICAgICAgICAgICBjOiBcIkRPVEEyXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb3JyZWN0QW5zd2VyOiBcImNcIlxuICAgICAgICB9LFxuICAgIHtcbiAgICAgICAgbnVtYmVyOiBcIjlcIixcbiAgICAgICAgcXVlc3Rpb246IFwiQXBhIGdhbWUgZmF2b3JpdCBoZW5kcm9zZXR3biB5YW5nIHNlcmluZyBkaXRvbnRvbj9cIixcbiAgICAgICAgYW5zd2VyOiB7XG4gICAgICAgICAgICBhOiBcIkRpbm5lciBEYXNoXCIsXG4gICAgICAgICAgICBiOiBcIkNTOkdPXCIsXG4gICAgICAgICAgICBjOiBcIkRPVEEyXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb3JyZWN0QW5zd2VyOiBcImJcIlxuICAgICAgICB9LFxuICAgIHtcbiAgICAgICAgbnVtYmVyOiBcIjEwXCIsXG4gICAgICAgIHF1ZXN0aW9uOiBcIkJvb3RjYW1wIGFwYWthaCB5YW5nIGhlbmRybyBpa3V0aSBwYWRhIFNBTFQgQWNhZGVteT9cIixcbiAgICAgICAgYW5zd2VyOiB7XG4gICAgICAgICAgICBhOiBcIkZ1bGxzdGFjayBEZXZlbG9wZXJcIixcbiAgICAgICAgICAgIGI6IFwiQmFja2VuZCBEZXZlbG9wZXJcIixcbiAgICAgICAgICAgIGM6IFwiRnJvbnRlbmQgRGV2ZWxvcGVyXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb3JyZWN0QW5zd2VyOiBcImNcIlxuICAgICAgICB9LFxuXTsiLCIvKiAjIyMjIyBMb29waW5nIFNjb3JpbmcgIyMjIyMgKi9cbmZ1bmN0aW9uIHNjb3JpbmdBbnN3ZXIoKSB7XG4gICAgbGV0IGFuc3dlcmVkID0gW11cbiAgICBsZXQgb3Blbk1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbFwiKVxuICAgIGxldCBjbG9zZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi54LW1vZGFsXCIpXG5cbiAgICBmb3IgKGk9MTsgaSA8PSBteVF1ZXN0aW9ucy5sZW5ndGg7IGkrKyl7ICBcbiAgICAgICAgbGV0IHVzZXJBbnN3ZXJlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGlucHV0W25hbWU9cS0ke2l9XTpjaGVja2VkYCk7XG4gICAgICAgIGlmICh1c2VyQW5zd2VyZWQpe1xuICAgICAgICAgICAgYW5zd2VyZWQucHVzaCh1c2VyQW5zd2VyZWQudmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIGlmIChhbnN3ZXJlZC5sZW5ndGggPCBteVF1ZXN0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgb3Blbk1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVpekNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIHJlc3VsdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gICAgfSBcblxuICAgIGNsb3NlTW9kYWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgb3Blbk1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9KVxuXG4gICAgbGV0IHNjb3JlID0gMDsgICAgXG4gICAgYW5zd2VyZWQuZm9yRWFjaCgoYW5zd2VycywgaW5kZXgpID0+e1xuICAgICAgICBcbiAgICAgICAgaWYoYW5zd2VycyA9PT0gbXlRdWVzdGlvbnNbaW5kZXhdLmNvcnJlY3RBbnN3ZXIpe1xuICAgICAgICAgICAgc2NvcmUgKz0xO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBjb3JyZWN0QW5zd2VyKHNjb3JlKTtcbn0iLCJmdW5jdGlvbiBzdGFydFF1aXooKSB7XG4gICAgbGV0IGVycm9yTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZXJyb3ItbmFtZVwiKVxuICAgIGxldCBsZXR0ZXJzID0vXlthLXosIEEtWiwgMC05XSokLztcblxuXG4gICAgaWYgKHVzZXJOYW1lLnZhbHVlLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgIGVycm9yTmFtZS5pbm5lckhUTUwgPSBgPGkgY2xhc3M9XCJiaSBiaS14LW9jdGFnb24tZmlsbFwiPjwvaT4gRXJyb3IhIG5hbWUgbXVzdCBub3QgYmUgZW1wdHkuYDtcbiAgICB9IGVsc2UgaWYgKHVzZXJOYW1lLnZhbHVlLmxlbmd0aCA8IDMgKSB7XG4gICAgICAgIGVycm9yTmFtZS5pbm5lckhUTUwgPSBgPGkgY2xhc3M9XCJiaSBiaS14LW9jdGFnb24tZmlsbFwiPjwvaT4gRXJyb3IhIG5hbWUgbXVzdCBiZSBsb25nZXIgdGhhbiAyIGNoYXJhY3RlcnMuYDtcbiAgICB9IGVsc2UgaWYgICh1c2VyTmFtZS52YWx1ZS5sZW5ndGggPiAxNiApIHtcbiAgICAgICAgZXJyb3JOYW1lLmlubmVySFRNTCA9IGA8aSBjbGFzcz1cImJpIGJpLXgtb2N0YWdvbi1maWxsXCI+PC9pPiBFcnJvciEgbmFtZSBtYXhpbWFsIDE1IGNoYXJhY3RlcnMuYDtcbiAgICB9IGVsc2UgaWYgKCF1c2VyTmFtZS52YWx1ZS5tYXRjaChsZXR0ZXJzKSkge1xuICAgICAgICBlcnJvck5hbWUuaW5uZXJIVE1MID0gYDxpIGNsYXNzPVwiYmkgYmkteC1vY3RhZ29uLWZpbGxcIj48L2k+IEVycm9yISBuYW1lIG11c3QgYmUgbGV0dGVycyBvbmx5LmA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbGFuZGluZ0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIHF1aXpDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgIH1cbn0iLCIvKiAjIyMjIyBWYXJpYWJsZXMgUGFnZXMgU2VjdGlvbiAjIyMjIyAqL1xuY29uc3QgbGFuZGluZ0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbGFuZGluZ1wiKTtcbmNvbnN0IHJlc3VsdENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcmVzdWx0XCIpO1xuY29uc3QgcXVpekNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcXVpelwiKTtcblxuXG4vKiAjIyMjIyBCdXR0b24gU3RhcnQgRnVuY3Rpb24gIyMjIyMgKi9cbmxldCBidG5TdGFydCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnRuLXN0YXJ0XCIpO1xuYnRuU3RhcnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCl7XG4gICAgc3RhcnRRdWl6KCk7XG59KVxuXG5cbi8qICMjIyMjIExvb3BpbmcgUXVpeiBTZWN0aW9uICMjIyMjICovXG5sZXQgcXVpekhUTUwgPSBcIlwiO1xuXG5teVF1ZXN0aW9ucy5mb3JFYWNoKChxdWVzdGlvbiwgaW5kZXgpID0+IHtcbiAgICBpZiAoaW5kZXggPT09IDApe1xuICAgICAgICBxdWl6SFRNTCArPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJxdWVzdGlvbi1wYWdlXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3NcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3NfX3NraWxsc1wiIHN0eWxlPVwid2lkdGg6ICR7cXVlc3Rpb24ubnVtYmVyfTAlXCI+PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJxdWVzdGlvbi1wYWdlX19udW1iZXJcIj5cbiAgICAgICAgICAgICAgICA8aDM+JHtxdWVzdGlvbi5udW1iZXJ9PGkgY2xhc3M9XCJiaSBiaS1jYXJldC1yaWdodC1maWxsXCI+PC9pPjwvaDM+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJxdWVzdGlvbi1wYWdlX19xdWVzdGlvblwiPlxuICAgICAgICAgICAgICAgIDxoMiBjbGFzcz1cInF1ZXN0aW9uLXBhZ2VfX3F1ZXN0aW9uLS10ZXh0XCI+JHtxdWVzdGlvbi5xdWVzdGlvbn08L2gyPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJxdWVzdGlvbi1wYWdlX19xdWVzdGlvbi0tbXVsdGlwbGVcIj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJxLSR7cXVlc3Rpb24ubnVtYmVyfVwiIHZhbHVlPVwiYVwiIGlkPVwiYSR7cXVlc3Rpb24ubnVtYmVyfVwiPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiYSR7cXVlc3Rpb24ubnVtYmVyfVwiPiR7cXVlc3Rpb24uYW5zd2VyLmF9IDxpIGNsYXNzPVwiYmkgYmktY2hlY2stbGdcIj48L2k+PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJxLSR7cXVlc3Rpb24ubnVtYmVyfVwiIHZhbHVlPVwiYlwiIGlkPVwiYiR7cXVlc3Rpb24ubnVtYmVyfVwiPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiYiR7cXVlc3Rpb24ubnVtYmVyfVwiPiR7cXVlc3Rpb24uYW5zd2VyLmJ9IDxpIGNsYXNzPVwiYmkgYmktY2hlY2stbGdcIj48L2k+PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJxLSR7cXVlc3Rpb24ubnVtYmVyfVwiIHZhbHVlPVwiY1wiIGlkPVwiYyR7cXVlc3Rpb24ubnVtYmVyfVwiPiAgXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJjJHtxdWVzdGlvbi5udW1iZXJ9XCI+JHtxdWVzdGlvbi5hbnN3ZXIuY30gPGkgY2xhc3M9XCJiaSBiaS1jaGVjay1sZ1wiPjwvaT48L2xhYmVsPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJxdWVzdGlvbi1wYWdlX19xdWVzdGlvbi0tYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4tbmV4dFwiPk5leHQ8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5gXG4gICAgfSBlbHNlIGlmIChpbmRleCA8PSA4ICl7XG4gICAgICAgIHF1aXpIVE1MICs9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cInF1ZXN0aW9uLXBhZ2VcIiBzdHlsZT1cImRpc3BsYXk6bm9uZVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2dyZXNzXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2dyZXNzX19za2lsbHNcIiBzdHlsZT1cIndpZHRoOiAke3F1ZXN0aW9uLm51bWJlcn0wJVwiPjwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicXVlc3Rpb24tcGFnZV9fbnVtYmVyXCI+XG4gICAgICAgICAgICAgICAgPGgzPiR7cXVlc3Rpb24ubnVtYmVyfTxpIGNsYXNzPVwiYmkgYmktY2FyZXQtcmlnaHQtZmlsbFwiPjwvaT48L2gzPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicXVlc3Rpb24tcGFnZV9fcXVlc3Rpb25cIj5cbiAgICAgICAgICAgICAgICA8aDIgY2xhc3M9XCJxdWVzdGlvbi1wYWdlX19xdWVzdGlvbi0tdGV4dFwiPiR7cXVlc3Rpb24ucXVlc3Rpb259PC9oMj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicXVlc3Rpb24tcGFnZV9fcXVlc3Rpb24tLW11bHRpcGxlXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwicS0ke3F1ZXN0aW9uLm51bWJlcn1cIiB2YWx1ZT1cImFcIiBpZD1cImEke3F1ZXN0aW9uLm51bWJlcn1cIj5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImEke3F1ZXN0aW9uLm51bWJlcn1cIj4ke3F1ZXN0aW9uLmFuc3dlci5hfSA8aSBjbGFzcz1cImJpIGJpLWNoZWNrLWxnXCI+PC9pPjwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwicS0ke3F1ZXN0aW9uLm51bWJlcn1cIiB2YWx1ZT1cImJcIiBpZD1cImIke3F1ZXN0aW9uLm51bWJlcn1cIj5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImIke3F1ZXN0aW9uLm51bWJlcn1cIj4ke3F1ZXN0aW9uLmFuc3dlci5ifSA8aSBjbGFzcz1cImJpIGJpLWNoZWNrLWxnXCI+PC9pPjwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwicS0ke3F1ZXN0aW9uLm51bWJlcn1cIiB2YWx1ZT1cImNcIiBpZD1cImMke3F1ZXN0aW9uLm51bWJlcn1cIj4gIFxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiYyR7cXVlc3Rpb24ubnVtYmVyfVwiPiR7cXVlc3Rpb24uYW5zd2VyLmN9IDxpIGNsYXNzPVwiYmkgYmktY2hlY2stbGdcIj48L2k+PC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicXVlc3Rpb24tcGFnZV9fcXVlc3Rpb24tLWJ1dHRvblwiPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuLXByZXZcIj5QcmV2PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4tbmV4dFwiPk5leHQ8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5gXG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVpekhUTUwgKz0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwicXVlc3Rpb24tcGFnZVwiIHN0eWxlPVwiZGlzcGxheTpub25lXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3NcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3NfX3NraWxsc1wiIHN0eWxlPVwid2lkdGg6ICR7cXVlc3Rpb24ubnVtYmVyfTAlXCI+PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJxdWVzdGlvbi1wYWdlX19udW1iZXJcIj5cbiAgICAgICAgICAgICAgICA8aDM+JHtxdWVzdGlvbi5udW1iZXJ9PGkgY2xhc3M9XCJiaSBiaS1jYXJldC1yaWdodC1maWxsXCI+PC9pPjwvaDM+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJxdWVzdGlvbi1wYWdlX19xdWVzdGlvblwiPlxuICAgICAgICAgICAgICAgIDxoMiBjbGFzcz1cInF1ZXN0aW9uLXBhZ2VfX3F1ZXN0aW9uLS10ZXh0XCI+JHtxdWVzdGlvbi5xdWVzdGlvbn08L2gyPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJxdWVzdGlvbi1wYWdlX19xdWVzdGlvbi0tbXVsdGlwbGVcIj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJxLSR7cXVlc3Rpb24ubnVtYmVyfVwiIHZhbHVlPVwiYVwiIGlkPVwiYSR7cXVlc3Rpb24ubnVtYmVyfVwiPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiYSR7cXVlc3Rpb24ubnVtYmVyfVwiPiR7cXVlc3Rpb24uYW5zd2VyLmF9IDxpIGNsYXNzPVwiYmkgYmktY2hlY2stbGdcIj48L2k+PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJxLSR7cXVlc3Rpb24ubnVtYmVyfVwiIHZhbHVlPVwiYlwiIGlkPVwiYiR7cXVlc3Rpb24ubnVtYmVyfVwiPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiYiR7cXVlc3Rpb24ubnVtYmVyfVwiPiR7cXVlc3Rpb24uYW5zd2VyLmJ9IDxpIGNsYXNzPVwiYmkgYmktY2hlY2stbGdcIj48L2k+PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJxLSR7cXVlc3Rpb24ubnVtYmVyfVwiIHZhbHVlPVwiY1wiIGlkPVwiYyR7cXVlc3Rpb24ubnVtYmVyfVwiPiAgXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJjJHtxdWVzdGlvbi5udW1iZXJ9XCI+JHtxdWVzdGlvbi5hbnN3ZXIuY30gPGkgY2xhc3M9XCJiaSBiaS1jaGVjay1sZ1wiPjwvaT48L2xhYmVsPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJxdWVzdGlvbi1wYWdlX19xdWVzdGlvbi0tYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4tcHJldlwiPlByZXY8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0bi1maW5pc2hcIj5GaW5pc2g8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWxcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWxfX2NvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzPVwibW9kYWxfX2NvbnRlbnQtLXRpdGxlXCI+QVRURU5USU9OICE8L2gyPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cIm1vZGFsX19jb250ZW50LS1hdHRlbnRpb25cIj5cIlRoZXJlIGlzIGFuIGFuc3dlciB0aGF0IHlvdSBoYXZlIG5vdCBjaGVja2VkL2ZpbGxlZCBpbiB0aGUgcXVlc3Rpb24uIENsb3NlIHRoaXMgYXR0ZW50aW9uIGFuZCBjbGljayBQUkVWIGJ1dHRvbiBmb3IgYmFjayB0byBwcmV2aW91cyBxdWVzdGlvbi5cIjwvcD5cbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJiaSBiaS14LXNxdWFyZS1maWxsIG1vZGFsX19jb250ZW50LS1jbG9zZSB4LW1vZGFsXCI+PC9pPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PmBcbiAgICB9XG59KTtcblxucXVpekNvbnRhaW5lci5pbm5lckhUTUwgPSBxdWl6SFRNTDtcblxuXG4vKiAjIyMjIyBCdXR0b24gTmV4dCBGdW5jdGlvbiAjIyMjIyAqL1xubGV0IGJ0bk5leHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJ0bi1uZXh0XCIpO1xuYnRuTmV4dC5mb3JFYWNoKChidG4pID0+IHtcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgIGxldCBxdWl6ZXMgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudFxuICAgICAgICBxdWl6ZXMuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgXCJkaXNwbGF5Om5vbmU7XCIpXG5cbiAgICAgICAgbGV0IHF1aXplc1NpYmxpbmcgPSBxdWl6ZXMubmV4dEVsZW1lbnRTaWJsaW5nXG4gICAgICAgIHF1aXplc1NpYmxpbmcucmVtb3ZlQXR0cmlidXRlKFwic3R5bGVcIilcbiAgICB9KVxufSlcblxuXG4vKiAjIyMjIyBCdXR0b24gUHJldmlvdXMgRnVuY3Rpb24gIyMjIyMgKi9cbmxldCBidG5QcmV2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5idG4tcHJldlwiKTtcbmJ0blByZXYuZm9yRWFjaCgoYnRuKSA9PiB7XG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgICBsZXQgcXVpemVzID0gZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnRcbiAgICAgICAgcXVpemVzLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIFwiZGlzcGxheTpub25lO1wiKVxuXG4gICAgICAgIGxldCBxdWl6ZXNTaWJsaW5nID0gcXVpemVzLnByZXZpb3VzRWxlbWVudFNpYmxpbmdcbiAgICAgICAgcXVpemVzU2libGluZy5yZW1vdmVBdHRyaWJ1dGUoXCJzdHlsZVwiKVxuICAgIH0pXG59KVxuXG4vKiAjIyMjIyBCdXR0b24gRmluaXNoIEZ1bmN0aW9uICMjIyMjICovXG5sZXQgYnRuRmluaXNoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idG4tZmluaXNoXCIpO1xuYnRuRmluaXNoLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICBzY29yaW5nQW5zd2VyKCk7XG59KTtcblxuXG4vKiAjIyMjIyBSZXN1bHQgU2VjdGlvbiAjIyMjIyAqL1xubGV0IHVzZXJOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi51c2VyLW5hbWVcIik7IiwiLyogIyMjIyMgVGhlbWUgRGFyayBvciBMaWdodCAjIyMjIyAqL1xuXG5jb25zdCBjb2xvclNjaGVtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT1cImNvbG9yLXNjaGVtZVwiXScpO1xuY29uc3QgdGhlbWVUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmhlYWRlcl9fdGhlbWUtLXRleHQnKTtcbmNvbnN0IHRoZW1lVG9nZ2xlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aGVtZS10b2dnbGUnKTtcblxuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgbGV0IHRoZW1lID0gZ2V0VGhlbWUoKTtcbiAgICBhcHBseVRoZW1lKHRoZW1lKTtcbiAgICB0aGVtZVRleHQuaW5uZXJUZXh0ID0gdGhlbWU7XG5cbiAgICB0aGVtZVRvZ2dsZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHsgXG4gICAgICAgIGNvbnN0IG5ld1RoZW1lID0gcm90YXRlVGhlbWUodGhlbWUpO1xuICAgICAgICBhcHBseVRoZW1lKG5ld1RoZW1lKTtcbiAgICAgICAgdGhlbWVUZXh0LmlubmVyVGV4dCA9IG5ld1RoZW1lO1xuICAgICAgICBzYXZlVGhlbWUobmV3VGhlbWUpO1xuICAgICAgICBcbiAgICAgICAgdGhlbWUgPSBuZXdUaGVtZTtcbiAgICB9XG4pfSwgMTAwKTtcblxuZnVuY3Rpb24gZ2V0VGhlbWUoKSB7XG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0aGVtZScpIHx8ICdkYXJrJztcbn1cblxuZnVuY3Rpb24gc2F2ZVRoZW1lKHRoZW1lKSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RoZW1lJywgdGhlbWUpO1xufVxuXG5mdW5jdGlvbiBhcHBseVRoZW1lKHRoZW1lKSB7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc05hbWUgPSB0aGVtZTtcbiAgICBjb2xvclNjaGVtZS5jb250ZW50ID0gdGhlbWU7XG59XG5cbmZ1bmN0aW9uIHJvdGF0ZVRoZW1lKHRoZW1lKSB7XG4gICAgaWYgKHRoZW1lID09PSAnZGFyaycpIHtcbiAgICAgICAgcmV0dXJuICdsaWdodCdcbiAgICB9ICAgcmV0dXJuICdkYXJrJztcbn0iXX0=